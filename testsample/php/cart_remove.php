<?php
/**
 * ==================================================================
 * File: cart_remove.php
 * Description: 从购物车中移除特定商品的逻辑。
 * Principle: 
 * 1. 接收 GET 请求参数中的 ID。
 * 2. 操作 Session 数组删除对应键值对。
 * 3. 完成后立即重定向回购物车页面刷新显示。
 * ==================================================================
 */

session_start(); // 开启 Session 以访问购物车数据

// 1. 检查是否有 ID 参数传入
if(isset($_GET['id'])) {
    $id = $_GET['id'];
    
    // 2. 从购物车中删除
    // unset() 函数用于销毁指定的变量。
    // 这里销毁 $_SESSION['cart'] 数组中键名为 $id 的元素。
    unset($_SESSION['cart'][$id]); 
}

// 3. 页面重定向
// 修改数据后，让浏览器跳转回 cart.php。
// 这样用户看到的是移除了商品后的最新购物车状态。
header("Location: cart.php"); 

// 4. 终止脚本
// exit() 确保在发送 header 后代码立即停止执行，这是一个良好的安全习惯。
exit();
?>